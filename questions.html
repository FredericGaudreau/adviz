<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="#" />
    <!-- favicon -->
    <link rel="stylesheet" href="style.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script>
      $(document).ready(function () {
        $("#header").load("header.html");
        $("#footer").load("footer.html");
      });
    </script>
    <title>Questions</title>
  </head>
  <body>
    <div id="header"></div>
    <h1>Questions</h1>
    <form action="">
      <div id="container">
        <div class="question1" id="q">
          <strong><label for="question1">Question 1</label></strong>
          <br />
          <input type="radio" name="question1" id="q1r1" value="1" />
          <label for="q1r1">Réponse 1</label>
          <br />
          <input type="radio" name="question1" id="q1r2" value="2" />
          <label for="q1r2">Réponse 2</label>
          <br />
          <input type="radio" name="question1" id="q1r3" value="3" />
          <label for="q1r3">Réponse 3</label>
          <br />
          <input type="radio" name="question1" id="q1r4" value="4" />
          <label for="q1r4">Réponse 4</label>
          <br />
          <input type="radio" name="question1" id="q1r5" value="5" />
          <label for="q1r5">Réponse 5</label>
          <br />
        </div>
        <div class="question2" id="q">
          <strong><label for="question2">Question 2</label></strong>
          <br />
          <input type="radio" name="question2" id="q2r1" value="1" />
          <label for="q2r1">Réponse 1</label>
          <br />
          <input type="radio" name="question2" id="q2r2" value="2" />
          <label for="q2r2">Réponse 2</label>
          <br />
          <input type="radio" name="question2" id="q2r3" value="3" />
          <label for="q2r3">Réponse 3</label>
          <br />
          <input type="radio" name="question2" id="q2r4" value="4" />
          <label for="q2r4">Réponse 4</label>
          <br />
          <input type="radio" name="question2" id="q2r5" value="5" />
          <label for="q2r5">Réponse 5</label>
          <br />
        </div>
        <div class="question3" id="q">
          <strong><label for="question3">Question 3</label></strong>
          <br />
          <input type="radio" name="question3" id="q3r1" value="1" />
          <label for="q3r1">Réponse 1</label>
          <br />
          <input type="radio" name="question3" id="q3r2" value="2" />
          <label for="q3r2">Réponse 2</label>
          <br />
          <input type="radio" name="question3" id="q3r3" value="3" />
          <label for="q3r3">Réponse 3</label>
          <br />
          <input type="radio" name="question3" id="q3r4" value="4" />
          <label for="q3r4">Réponse 4</label>
          <br />
          <input type="radio" name="question3" id="q3r5" value="5" />
          <label for="q3r5">Réponse 5</label>
          <br />
        </div>
        <div class="question4" id="q">
          <strong><label for="question4">Question 4</label></strong>
          <br />
          <input type="radio" name="question4" id="q4r1" value="1" />
          <label for="q4r1">Réponse 1</label>
          <br />
          <input type="radio" name="question4" id="q4r2" value="2" />
          <label for="q4r2">Réponse 2</label>
          <br />
          <input type="radio" name="question4" id="q4r3" value="3" />
          <label for="q4r3">Réponse 3</label>
          <br />
          <input type="radio" name="question4" id="q4r4" value="4" />
          <label for="q4r4">Réponse 4</label>
          <br />
          <input type="radio" name="question4" id="q4r5" value="5" />
          <label for="q4r5">Réponse 5</label>
          <br />
        </div>
        <div class="question5" id="q">
          <strong><label for="question5">Question 5</label></strong>
          <br />
          <input type="radio" name="question5" id="q5r1" value="1" />
          <label for="q5r1">Réponse 1</label>
          <br />
          <input type="radio" name="question5" id="q5r2" value="2" />
          <label for="q5r2">Réponse 2</label>
          <br />
          <input type="radio" name="question5" id="q5r3" value="3" />
          <label for="q5r3">Réponse 3</label>
          <br />
          <input type="radio" name="question5" id="q5r4" value="4" />
          <label for="q5r4">Réponse 4</label>
          <br />
          <input type="radio" name="question5" id="q5r5" value="5" />
          <label for="q5r5">Réponse 5</label>
          <br />
        </div>
        <div id="transmettreReponses">
          <input
            type="button"
            value="Soumettre les résultats"
            onclick="transmettreResultats()"
          />
        </div>
        <div id="message">
          <strong>
            Veuillez sélectionner une réponse à toutes les questions
          </strong>
        </div>
      </div>
    </form>
    <script>
      function transmettreResultats() {
        let q1 = document.querySelector("input[name='question1']:checked");
        let q2 = document.querySelector("input[name='question2']:checked");
        let q3 = document.querySelector("input[name='question3']:checked");
        let q4 = document.querySelector("input[name='question4']:checked");
        let q5 = document.querySelector("input[name='question5']:checked");
        const message = document.getElementById("message");

        // validation de sélection d'une réponse à toutes les questions avec un message d'erreur si des réponses sont manquantes
        if (
          q1 == null ||
          q2 == null ||
          q3 == null ||
          q4 == null ||
          q5 == null
        ) {
          message.style.display = "block";
        }

        // sélection des réponses
        r1 = q1.value;
        r2 = q2.value;
        r3 = q3.value;
        r4 = q4.value;
        r5 = q5.value;

        // sauvegarde des réponses dans LocalStorage
        localStorage.setItem("r1", r1);
        localStorage.setItem("r2", r2);
        localStorage.setItem("r3", r3);
        localStorage.setItem("r4", r4);
        localStorage.setItem("r5", r5);
        location.href = "reponses.html"; // redirection vers la page de résultats
      }
    </script>
    <div id="footer"></div>
  </body>
</html>
